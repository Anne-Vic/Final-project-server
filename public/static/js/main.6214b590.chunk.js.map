{"version":3,"sources":["api/apiHandler.js","components/Auth/UserContext.jsx","components/Auth/UserProvider.jsx","components/Auth/withUser.jsx","components/NavTop.jsx","components/NavMain.jsx","pages/Home.jsx","components/Forms/FormSignin.jsx","pages/Signin.jsx","components/Forms/FormSignup.jsx","pages/Signup.jsx","components/ProtectedRoute.jsx","components/NavBottom.jsx","pages/Profile.jsx","components/Card.jsx","components/SelectLevel.jsx","utils.js","components/Select.jsx","components/Views/Events.jsx","components/Views/OneEvent.jsx","components/Forms/FormCreateEvent.jsx","components/Forms/FormUpdateEvent.jsx","components/Views/MyEvents.jsx","components/PopUp.jsx","components/Views/Extras.jsx","components/Views/Messages.jsx","components/Views/Conversation.jsx","App.jsx","index.js"],"names":["service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","console","log","data","userInfo","post","then","res","catch","get","eventId","delete","patch","UserContext","React","createContext","UserProvider","state","user","isLoggedIn","isLoading","setUser","setState","removeUser","apiHandler","authValues","this","Provider","value","props","children","Component","withUser","ComponentToPassUserContextTo","Consumer","context","className","exact","to","Fragment","email","onClick","Home","FormSignin","password","handleChange","event","key","target","name","handleSubmit","preventDefault","history","push","onChange","onSubmit","htmlFor","type","id","autoFocus","required","contextType","withRouter","Signin","FormSignup","username","profileImg","ref","imageRef","Signup","component","rest","render","NavBottom","style","color","path","location","pathname","Card","_id","src","eventImg","alt","sport","city","date","time","delay","level","description","owner","SelectLevel","handleFilterLevel","Capitalize","string","toUpperCase","slice","toLowerCase","SelectCity","allEvents","filter","handleFilter","Set","map","sort","a","b","localeCompare","el","today","dayjs","Events","filteredEvents","ev","filterAll","date1","isValid","diff","number","lengthEvent","isComplete","length","OneEvent","match","params","meetingPoint","format","FormCreateEvent","country","createRef","fd","FormData","append","current","files","String","formRef","encType","placeholder","min","step","marginBottom","maxLength","rows","visibility","FormUpdateEvent","checked","apiResponse","err","display","flexDirection","handleToggle","currentCompletedValue","handleDelete","backgroundColor","PopUp","handlePopUp","handleLogout","Messages","messages","message","reset","getMessages","overflow","height","author","createdAt","Conversation","myMessages","myEvents","events","App","MyEvents","Extras","Profile","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6214b590.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n  baseURL: process.env.REACT_APP_BACKEND_URL,\r\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\r\n});\r\n\r\nfunction errorHandler(error) {\r\n  if (error.response) {\r\n    console.log(error.response && error.response.data);\r\n    throw error;\r\n  }\r\n  throw error;\r\n}\r\n\r\nexport default {\r\n  service,\r\n\r\n  signup(userInfo) {\r\n    return service\r\n      .post(\"/api/auth/signup\", userInfo)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  signin(userInfo) {\r\n    console.log(userInfo);\r\n    return service\r\n      .post(\"/api/auth/signin\", userInfo)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  isLoggedIn() {\r\n    return service\r\n      .get(\"/api/auth/isLoggedIn\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  logout() {\r\n    return service\r\n      .get(\"/api/auth/logout\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getEvents() {\r\n    return service\r\n      .get(\"/api/events\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getMyEvents() {\r\n    return service\r\n      .get(\"/api/events/mine\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getOneEvent(eventId) {\r\n    console.log(eventId);\r\n    return service\r\n      .get(`/api/events/${eventId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getMessages(eventId) {\r\n    return service\r\n      .get(`/api/messages/by-event/${eventId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getMyMessages() {\r\n    return service\r\n      .get(\"/api/messages/mine\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  addMessage(eventId, data) {\r\n    return service\r\n      .post(`/api/messages/by-event/${eventId}`, data)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  addEvent(data) {\r\n    return service\r\n      .post(\"/api/events\", data)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  deleteEvent(eventId) {\r\n    return service\r\n      .delete(`/api/events/${eventId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  updateEvent(eventId, data) {\r\n    return service\r\n      .patch(`/api/events/${eventId}`, data)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n};\r\n","import React from \"react\";\r\n\r\nexport const UserContext = React.createContext();\r\n\r\nexport default UserContext;\r\n","import React, { Component } from \"react\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nclass UserProvider extends Component {\r\n  state = {\r\n    user: null,\r\n    isLoggedIn: false,\r\n    isLoading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler\r\n      .isLoggedIn()\r\n      .then((data) => {\r\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\r\n      });\r\n  }\r\n\r\n  setUser = (user) => {\r\n    this.setState({ user, isLoggedIn: true });\r\n  };\r\n\r\n  removeUser = () => {\r\n    this.setState({ user: null, isLoggedIn: false });\r\n  };\r\n\r\n  render() {\r\n    //  Setup all the values/functions you want to expose to anybody reading\r\n    // from the AuthContext.\r\n    const authValues = {\r\n      user: this.state.user,\r\n      setUser: this.setUser,\r\n      removeUser: this.removeUser,\r\n      isLoggedIn: this.state.isLoggedIn,\r\n      isLoading: this.state.isLoading,\r\n    };\r\n\r\n    return (\r\n      <UserContext.Provider value={authValues}>\r\n        {this.props.children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProvider;\r\n","import React from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\n// This is what we call a HOC (Higher Order Component).\r\n// It takes a component as a parameter and it returns a component.\r\n// This technique can be used to abstract some logic in order to pass\r\n// some data down as props to the component sent as parameter.\r\n\r\n// The use case of this one is to make it easy to access the user context to\r\n// any component in our app.\r\n\r\n/* ******************************************************** */\r\n\r\n//  How to use:  =>\r\n// YourComponent.jsx\r\n// import React from \"react\"\r\n// function or class YourComponent()\r\n//\r\n// ... your implementation.\r\n//\r\n// export default withUser(YourComponent)\r\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\r\n\r\n// This component is not exported as default, so you have to import it\r\n// this way :\r\n// import { withUser } from \"../relative/path/to/this/file\"\r\n\r\nexport const withUser = (ComponentToPassUserContextTo) => {\r\n  return function (props) {\r\n    return (\r\n      <UserContext.Consumer>\r\n        {(context) => (\r\n          <ComponentToPassUserContextTo {...props} context={context} />\r\n        )}\r\n      </UserContext.Consumer>\r\n    );\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { withUser } from \"../components/Auth/withUser\";\r\n\r\n\r\nimport \"../styles/NavBar.css\";\r\n\r\nconst NavTop = (props) => {\r\n  const { context } = props;\r\n\r\n  return (\r\n    <nav className=\"NavTop\">\r\n      \r\n        {context.isLoggedIn && (\r\n         <NavLink exact to=\"/events\" className=\"link\"><i className=\"fas fa-home\"></i></NavLink>\r\n        )}\r\n        {!context.isLoggedIn && (<h1>Catch me if you train</h1>)}\r\n        \r\n    \r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default withUser(NavTop);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { withUser } from \"../components/Auth/withUser\";\r\nimport apiHandler from \"../api/apiHandler\";\r\n\r\nimport \"../styles/NavMain.css\";\r\n\r\nconst NavMain = (props) => {\r\n  const { context } = props;\r\n\r\n  function handleLogout() {\r\n    apiHandler\r\n      .logout()\r\n      .then(() => {\r\n        context.removeUser();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <nav className=\"NavMain\">\r\n      <NavLink exact to=\"/\">\r\n        <h3 className=\"logo\">App name</h3>\r\n      </NavLink>\r\n      <ul className=\"nav-list\">\r\n        {context.isLoggedIn && (\r\n          <React.Fragment>\r\n            <li>\r\n              <NavLink to=\"/profile\">\r\n                {context.user && context.user.email}\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <p onClick={handleLogout}>Logout</p>\r\n            </li>\r\n          </React.Fragment>\r\n        )}\r\n        {!context.isLoggedIn && (\r\n          <React.Fragment>\r\n            <li>\r\n              <NavLink to=\"/signin\">Log in</NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink to=\"/signup\">Create account</NavLink>\r\n            </li>\r\n          </React.Fragment>\r\n        )}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default withUser(NavMain);\r\n","import React from \"react\";\r\nimport NavTop from \"../components/NavTop\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport \"../styles/global.css\"\r\n\r\nclass Home extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <NavTop/>\r\n        <div className=\"auth\">\r\n        <button><NavLink to=\"/signup\">Sign up</NavLink></button>\r\n        <button><NavLink to=\"/signin\">Sign in</NavLink></button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from \"react\";\r\nimport { UserContext } from \"../Auth/UserContext\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport \"../../styles/Form.css\";\r\n\r\nclass FormSignin extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const key = event.target.name;\r\n    const value = event.target.value;\r\n\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    apiHandler\r\n      .signin(this.state)\r\n      .then((data) => {\r\n        this.context.setUser(data);\r\n        this.props.history.push(\"/events\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        // Display error message here, if you set the state\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (this.context.user) {\r\n      return <Redirect to=\"/events\" />;\r\n    }\r\n\r\n    return (\r\n      <section>\r\n        <NavLink exact to=\"/\" className=\"NavTop\">\r\n          <i className=\"fas fa-home\"></i>\r\n        </NavLink>\r\n        <form\r\n          className=\"form\"\r\n          onChange={this.handleChange}\r\n          onSubmit={this.handleSubmit}\r\n        >\r\n          <div className=\"field\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input type=\"email\" id=\"email\" name=\"email\" autoFocus={true} />\r\n          </div>\r\n          <div className=\"field\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input type=\"password\" id=\"password\" name=\"password\" required />\r\n          </div>\r\n          <button>Submit</button>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(FormSignin);\r\n","import React from \"react\";\r\nimport FormSignin from \"../components/Forms/FormSignin\";\r\n\r\nconst Signin = (props) => {\r\n  return <FormSignin />;\r\n};\r\n\r\nexport default Signin;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { UserContext } from \"../Auth/UserContext\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\n\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nclass FormSignup extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    profileImg: \"/Profil.PNG\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const key = event.target.name;\r\n\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    apiHandler\r\n      .signup(this.state)\r\n      .then((data) => {\r\n        this.context.setUser(data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (this.context.user) {\r\n      return <Redirect to=\"/events\" />;\r\n    }\r\n\r\n    return (\r\n      <section>\r\n        <NavLink exact to=\"/\" className=\"NavTop\">\r\n          <i className=\"fas fa-home\"></i>\r\n        </NavLink>\r\n        <form className=\"form\" onSubmit={this.handleSubmit}>\r\n          <div className=\"field\">\r\n            <label htmlFor=\"username\">Username</label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.username}\r\n              type=\"text\"\r\n              id=\"username\"\r\n              name=\"username\"\r\n              autoFocus={true}\r\n            />\r\n          </div>\r\n          <div className=\"field\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.email}\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n            />\r\n          </div>\r\n          <div className=\"field\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.password}\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"field upload\">\r\n            <label className=\"label\" htmlFor=\"profileImg\">\r\n              Upload a profile picture <span>-------</span>\r\n              <i className=\"icon fas fa-cloud-upload-alt\"></i>\r\n            </label>\r\n            <input\r\n              className=\"hidden\"\r\n              type=\"file\"\r\n              id=\"profileImg\"\r\n              name=\"profileImg\"\r\n              ref={this.imageRef}\r\n            ></input>\r\n          </div>\r\n\r\n          <button>Submit</button>\r\n          <br />\r\n          <p>\r\n            Already have an account ?\r\n            <Link className=\"signin\" to=\"/signin\">\r\n              {\" \"}\r\n              Sign in\r\n            </Link>\r\n          </p>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(FormSignup);\r\n","import React from \"react\";\r\nimport FormSignup from \"../components/Forms/FormSignup\";\r\n\r\nconst Signup = (props) => {\r\n  return <FormSignup />;\r\n};\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { withUser } from \"../components/Auth/withUser\";\r\n\r\nconst ProtectedRoute = ({ component: Component, context, ...rest }) => {\r\n  if (context.isLoading) {\r\n    return null;\r\n  } else if (context.isLoggedIn) {\r\n    return <Route {...rest} render={(props) => <Component {...props} />} />;\r\n  } else {\r\n    return <Redirect to=\"/signin\" />;\r\n  }\r\n};\r\n\r\nexport default withUser(ProtectedRoute);\r\n","import React, { Component } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport \"../styles/NavBar.css\";\r\n\r\nconst NavBottom = (props) => {\r\n  return (\r\n    <nav className=\"NavBottom\">\r\n      <NavLink exact to=\"/created/coming-events\" className=\"link\">\r\n        <i\r\n          className=\"fas fa-user-circle\"\r\n          style={{\r\n            color:\r\n              props.path === \"/created/coming-events\" ? \"#ffa41b\" : \"#0c084c\",\r\n          }}\r\n        ></i>\r\n      </NavLink>\r\n      <NavLink exact to=\"/events/create\" className=\"link\">\r\n        <i\r\n          className=\"fas fa-plus-circle\"\r\n          style={{\r\n            color: props.path === \"/events/create\" ? \"#ffa41b\" : \"#0c084c\",\r\n          }}\r\n        ></i>\r\n      </NavLink>\r\n      {/* <NavLink exact to=\"/events/alert\" className=\"link\">\r\n        <i\r\n          className=\"fas fa-bell\"\r\n          style={{\r\n            color: props.path === \"/events/alert\" ? \"#ffa41b\" : \"#0c084c\",\r\n          }}\r\n        ></i>\r\n      </NavLink> */}\r\n      <NavLink exact to=\"/messages/my-messages\" className=\"link\">\r\n        <i\r\n          className=\"fas fa-comments\"\r\n          style={{\r\n            color:\r\n              props.path === \"/messages/my-messages\" ? \"#ffa41b\" : \"#0c084c\",\r\n          }}\r\n        ></i>\r\n      </NavLink>\r\n      <NavLink exact to=\"/more\" className=\"link\">\r\n        <i\r\n          className=\"fas fa-bars\"\r\n          style={{ color: props.path === \"/more\" ? \"#ffa41b\" : \"#0c084c\" }}\r\n        ></i>\r\n      </NavLink>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBottom;\r\n","import React from \"react\";\r\nimport NavTop from '../components/NavTop';\r\nimport NavBottom from '../components/NavBottom';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { withUser } from \"../components/Auth/withUser\";\r\nimport \"../styles/Card.css\"\r\n\r\nconst Profile = (props) => {\r\n  const { context } = props;\r\n  return (\r\n    <div>\r\n      <NavTop/>\r\n      <div className=\"middle\">\r\n      <div className=\"btn profile\">\r\n      <NavLink exact to=\"/myprofile/created-events\" > <button className=\"link profile\">Created events</button> </NavLink>\r\n      <NavLink exact to=\"/myprofile/joined-events\" > <button className=\"link profile\">Joined events</button> </NavLink>\r\n      </div>\r\n      {/* {context.user && <p>Hey {context.user.username} ! </p>} */}\r\n      </div>\r\n      <NavBottom path={this.props.history.location.pathname}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withUser(Profile);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../styles/Card.css\";\r\n\r\nconst Card = (props) => {\r\n  return (\r\n    <div className=\"card multiple\" key={props.event._id}>\r\n      <Link className=\"cardEvent\" to={`/events/${props.event._id}`}>\r\n        <div className=\"eventTop\">\r\n          <div className=\"eventImg\">\r\n            <img\r\n              className=\"event image\"\r\n              src={props.event.eventImg}\r\n              alt={props.event.sport}\r\n            />\r\n          </div>\r\n          <div className=\"eventInfo\">\r\n            <strong>\r\n              {props.event.sport} - {props.event.city}{\" \"}\r\n            </strong>\r\n            <br />\r\n            <br />\r\n            <p>\r\n              {props.event.date} @ {props.event.time}\r\n            </p>\r\n            {props.event.delay < 8 && <p>In only {props.event.delay} days !</p>}\r\n            {/* {props.event.delay >7 && <p>In more than a week </p>} */}\r\n            <p>Level: {props.event.level}</p>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <p>{props.event.description}</p>\r\n          {/* <br/> */}\r\n        </div>\r\n        <div className=\"eventAbout\">\r\n          {props.event.owner && (\r\n            <p className=\"owner\">\r\n              Created by {props.event.owner.username} <span>-----</span>\r\n              <img\r\n                id=\"profileImg\"\r\n                src={props.event.owner.profileImg}\r\n                alt={props.event.owner.username}\r\n              />{\" \"}\r\n            </p>\r\n          )}\r\n          {/* <p>{props.history}</p> */}\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { Component } from 'react'\r\n\r\nexport default class SelectLevel extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <select name=\"level\" onChange={this.props.handleFilterLevel}>\r\n                    <option value=\"\">Level</option>\r\n                    <option value=\"Beginner\">Beginner</option>\r\n                    <option value=\"Intermediate\">Intermediate</option>\r\n                    <option value=\"Advanced\">Advanced</option>\r\n                </select>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","export function Capitalize(string) {\r\n  return string[0].toUpperCase() + string.slice(1).toLowerCase();\r\n}\r\n\r\nexport function NumberEvents(number) {\r\n  if (number === 0) {\r\n    return \"Sorry...No event yet\";\r\n  } else if (number === 1) {\r\n    return \"Only 1 event found\";\r\n  } else {\r\n    return `${number} events found`;\r\n  }\r\n}\r\n\r\nexport function buildFormData(formData, data, parentKey) {\r\n  if (\r\n    data &&\r\n    typeof data === \"object\" &&\r\n    !(data instanceof Date) &&\r\n    !(data instanceof File)\r\n  ) {\r\n    Object.keys(data).forEach((key) => {\r\n      buildFormData(\r\n        formData,\r\n        data[key],\r\n        parentKey ? `${parentKey}[${key}]` : key\r\n      );\r\n    });\r\n  } else {\r\n    const value = data == null ? \"\" : data;\r\n    formData.append(parentKey, value);\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport apiHandler from \"../api/apiHandler\";\r\nimport {Capitalize} from \"../utils.js\";\r\n\r\nexport default class SelectCity extends Component {\r\n\r\n    state = {\r\n        allEvents : [],\r\n    }\r\n\r\n    componentDidMount() {\r\n        apiHandler.getEvents().then((data) => {\r\n          this.setState({ allEvents: data });\r\n        });\r\n      }\r\n\r\n    render() {\r\n        const filter = this.props.filter\r\n        console.log(\"Capitalize\", Capitalize(filter))\r\n        return (\r\n            <div>\r\n                <select name={filter} onChange={this.props.handleFilter}>\r\n                    <option value=\"\">{Capitalize(filter)}</option>\r\n                    {[...new Set(this.state.allEvents.map(event => event.[filter]))].sort((a,b) => a.localeCompare(b)).map(el => {\r\n                    return (\r\n                        <option value={el}>{el}</option>\r\n                    )\r\n                })}\r\n                </select>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport NavBottom from \"../NavBottom\";\r\nimport Card from \"../Card\";\r\nimport dayjs from \"dayjs\";\r\nimport SelectLevel from \"../SelectLevel\";\r\nimport Select from \"../Select\";\r\nimport \"../../styles/Card.css\";\r\nimport { NumberEvents } from \"../../utils.js\";\r\nconst today = dayjs();\r\n\r\nexport default class Events extends Component {\r\n  state = {\r\n    allEvents: [],\r\n    filteredEvents: [],\r\n    level: \"\",\r\n    sport: \"\",\r\n    city: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler.getEvents().then((data) => {\r\n      data = data.map((event) => {\r\n        const date1 = dayjs(event.date, \"YYYY-MM-DD\");\r\n        if (date1.isValid()) event.delay = date1.diff(today, \"d\");\r\n        return event;\r\n      });\r\n      this.setState({ allEvents: data, filteredEvents: data });\r\n    });\r\n  }\r\n\r\n  filterAll() {\r\n    let filterLvl = this.state.allEvents.filter((event) =>\r\n      this.state.level === \"\" ? true : this.state.level === event.level\r\n    );\r\n    let filterLvlSpt = filterLvl.filter((event) =>\r\n      this.state.sport === \"\" ? true : this.state.sport === event.sport\r\n    );\r\n    let filterLvlSptCity = filterLvlSpt.filter((event) =>\r\n      this.state.city === \"\" ? true : this.state.city === event.city\r\n    );\r\n    return filterLvlSptCity;\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    this.setState({\r\n      [ev.target.name]: ev.target.value,\r\n    });\r\n    this.filterAll();\r\n  };\r\n\r\n  render() {\r\n    const lengthEvent = this.filterAll().filter(\r\n      (event) => event.delay >= 0 && !event.isComplete\r\n    ).length;\r\n    return (\r\n      <div>\r\n        <div className=\"NavSearch\">\r\n          <Select\r\n            className=\"filter\"\r\n            filter=\"city\"\r\n            handleFilter={this.handleChange}\r\n          />\r\n          <Select\r\n            className=\"filter\"\r\n            filter=\"sport\"\r\n            handleFilter={this.handleChange}\r\n          />\r\n          <SelectLevel\r\n            className=\"filter\"\r\n            filter=\"Level\"\r\n            handleFilterLevel={this.handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"invisible\">Oups you found me</div>\r\n        <strong className=\"number events\">{NumberEvents(lengthEvent)}</strong>\r\n        {this.filterAll()\r\n          .filter((event) => event.delay >= 0 && !event.isComplete)\r\n          .sort((a, b) => a.delay - b.delay)\r\n          .map((event) => {\r\n            return (\r\n              <>\r\n                <Card event={event} />\r\n              </>\r\n            );\r\n          })}\r\n\r\n        <NavBottom path={this.props.history.location.pathname} />\r\n        <div className=\"invisible\">Oups you found me</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport NavTop from \"../NavTop\";\r\nimport NavBottom from \"../NavBottom\";\r\n\r\nimport \"../../styles/Card.css\";\r\n\r\nexport default class OneEvent extends Component {\r\n  state = {\r\n    event: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const eventId = this.props.match.params.id;\r\n    console.log(eventId);\r\n    apiHandler.getOneEvent(eventId).then((data) => {\r\n      this.setState({ event: data });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.event) {\r\n      return (\r\n        <div>\r\n          <NavTop />\r\n          Event is loading...\r\n        </div>\r\n      );\r\n    }\r\n    console.log(\"one event\", this.state.event);\r\n    return (\r\n      <div>\r\n        <NavTop />\r\n        <div className=\"invisible\">Oups you found me</div>\r\n        <div className=\"middle card one\">\r\n          <strong className=\"center\">{this.state.event.sport}</strong>\r\n          <hr />\r\n          <strong className=\"owner\">\r\n            Created by {this.state.event.owner.username} <span>-----</span>\r\n            <img\r\n              id=\"profileImg\"\r\n              src={this.state.event.owner.profileImg}\r\n              alt={this.state.event.owner.username}\r\n            />\r\n          </strong>\r\n          <p>\r\n            <strong>Where: </strong>\r\n            {this.state.event.city} - {this.state.event.meetingPoint}\r\n          </p>\r\n          <p>\r\n            <strong>When: </strong>\r\n            {this.state.event.date} - {this.state.event.time}\r\n          </p>\r\n          <p>\r\n            <strong>Level: </strong>\r\n            {this.state.event.level}\r\n          </p>\r\n          <img\r\n            className=\"event image\"\r\n            src={this.state.event.eventImg}\r\n            alt={this.state.event.sport}\r\n          />\r\n          <p>{this.state.event.description}</p>\r\n          <button className=\"interested\">\r\n            <NavLink to={`/messages/by-event/${this.state.event._id}`}>\r\n              I'm interested\r\n            </NavLink>\r\n          </button>\r\n        </div>\r\n        <NavBottom />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport NavTop from \"../NavTop\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport NavBottom from \"../NavBottom\";\r\nimport dayjs from \"dayjs\";\r\nimport { buildFormData } from \"../../utils.js\";\r\nimport \"../../styles/NavBar.css\";\r\nconst today = dayjs().format(\"YYYY-MM-DD\");\r\n\r\nclass FormCreateEvent extends Component {\r\n  state = {\r\n    date: today,\r\n    sport: \"\",\r\n    city: \"\",\r\n    country: \"\",\r\n    meetingPoint: \"\",\r\n    time: \"09:00\",\r\n    // eventImg: \"\",\r\n    description: \"\",\r\n    isComplete: \"false\",\r\n    level: \"\",\r\n  };\r\n\r\n  imageRef = React.createRef();\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const fd = new FormData();\r\n\r\n    for (let key in this.state) {\r\n      fd.append(key, this.state[key]);\r\n    }\r\n\r\n    if (this.imageRef.current.files[0]) {\r\n      fd.append(\"eventImg\", this.imageRef.current.files[0]);\r\n    }\r\n\r\n    apiHandler\r\n      .addEvent(fd)\r\n      .then((data) => {\r\n        // clear form\r\n        // this.imageRef.current.reset();\r\n        // this.props.addEvent(data);\r\n        this.props.history.push(\"/events\");\r\n        this.setState({\r\n          date: today,\r\n          sport: \"\",\r\n          city: \"\",\r\n          country: \"\",\r\n          meetingPoint: \"\",\r\n          time: \"09:00\",\r\n\r\n          description: \"\",\r\n          isComplete: \"false\",\r\n          level: \"\",\r\n        });\r\n        console.log(\"form create props\", this.props);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    console.log(\"today\", String(today));\r\n    return (\r\n      <div /*className=\"main\"*/>\r\n        <NavTop />\r\n        <div className=\"body\">\r\n          <form\r\n            ref={this.formRef}\r\n            className=\"formcreate\"\r\n            onSubmit={this.handleSubmit}\r\n            encType=\"multipart/form-data\"\r\n          >\r\n            <h3>Create your event</h3>\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"sport\">\r\n                {\" \"}\r\n                Sport\r\n              </label>\r\n              <input\r\n                className=\"input\"\r\n                type=\"text\"\r\n                onChange={this.handleChange}\r\n                value={this.state.sport}\r\n                placeholder=\"Tennis, Running, Boxing...\"\r\n                name=\"sport\"\r\n                id=\"sport\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"Country\">\r\n                {\" \"}\r\n                Country\r\n              </label>\r\n              <input\r\n                className=\"input\"\r\n                type=\"text\"\r\n                onChange={this.handleChange}\r\n                value={this.state.country}\r\n                name=\"country\"\r\n                id=\"country\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"city\">\r\n                City\r\n              </label>\r\n              <input\r\n                className=\"input\"\r\n                type=\"text\"\r\n                onChange={this.handleChange}\r\n                value={this.state.city}\r\n                name=\"city\"\r\n                id=\"city\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"meetingPoint\">\r\n                Meeting Point\r\n              </label>\r\n              <input\r\n                className=\"input\"\r\n                type=\"text\"\r\n                onChange={this.handleChange}\r\n                value={this.state.meetingPoint}\r\n                placeholder=\"Metro station, park...\"\r\n                name=\"meetingPoint\"\r\n                id=\"meetingPoint\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"date\">\r\n                When\r\n              </label>\r\n              <input\r\n                className=\"input\"\r\n                type=\"date\"\r\n                onChange={this.handleChange}\r\n                value={this.state.date}\r\n                name=\"date\"\r\n                id=\"date\"\r\n                min={today}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"time\">\r\n                Time\r\n              </label>\r\n              <input\r\n                className=\"input\"\r\n                type=\"time\"\r\n                step=\"1800\"\r\n                onChange={this.handleChange}\r\n                value={this.state.time}\r\n                name=\"time\"\r\n                id=\"time\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label\r\n                className=\"label\"\r\n                htmlFor=\"level\"\r\n                style={{ marginBottom: \"0\" }}\r\n              >\r\n                <select\r\n                  value={this.state.value}\r\n                  onChange={this.handleChange}\r\n                  name=\"level\"\r\n                  id=\"level\"\r\n                >\r\n                  <option value=\"\">Select a level</option>\r\n                  <option value=\"Beginner\">Beginner</option>\r\n                  <option value=\"Intermediate\">Intermediate</option>\r\n                  <option value=\"Advanced\">Advanced</option>\r\n                </select>\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"description\">\r\n                Describe your event:\r\n              </label>\r\n              <textarea\r\n                maxLength=\"100\"\r\n                rows=\"3\"\r\n                value={this.state.value}\r\n                onChange={this.handleChange}\r\n                name=\"description\"\r\n                id=\"description\"\r\n                placeholder=\"Few words about this event...(100 characters max)\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"field upload\">\r\n              <label className=\"label\" htmlFor=\"eventImg\">\r\n                Add an image for your event <span>----</span>\r\n                <i className=\"icon fas fa-cloud-upload-alt\"></i>\r\n              </label>\r\n              <input\r\n                style={{ visibility: \"hidden\" }}\r\n                type=\"file\"\r\n                id=\"eventImg\"\r\n                name=\"eventImg\"\r\n                ref={this.imageRef}\r\n              ></input>\r\n            </div>\r\n\r\n            <button>Create</button>\r\n          </form>\r\n        </div>\r\n        <NavBottom path={this.props.history.location.pathname} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(FormCreateEvent);\r\n","import React, { Component } from \"react\";\r\nimport NavTop from \"../NavTop\";\r\nimport NavBottom from \"../NavBottom\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport dayjs from \"dayjs\";\r\nconst today = dayjs();\r\n\r\nexport default class FormUpdateEvent extends Component {\r\n  state = {\r\n    date: \"\",\r\n    sport: \"\",\r\n    city: \"\",\r\n    country: \"\",\r\n    meetingPoint: \"\",\r\n    time: \"\",\r\n    description: \"\",\r\n    isComplete: \"false\",\r\n    level: \"\",\r\n  };\r\n\r\n  imageRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    const eventId = this.props.match.params.id;\r\n\r\n    apiHandler\r\n      .getOneEvent(eventId)\r\n      .then((apiResponse) => {\r\n        const event = apiResponse;\r\n        this.setState({\r\n          sport: event.sport,\r\n          date: event.date,\r\n          city: event.city,\r\n          country: event.country,\r\n          meetingPoint: event.meetingPoint,\r\n          time: event.time,\r\n          description: event.description,\r\n          isComplete: event.isComplete,\r\n          level: event.level,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const value =\r\n      event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        : event.target.value;\r\n    const name = event.target.name;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const fd = new FormData();\r\n\r\n    for (let key in this.state) {\r\n      fd.append(key, this.state[key]);\r\n    }\r\n\r\n    if (this.imageRef.current.files[0]) {\r\n      fd.append(\"eventImg\", this.imageRef.current.files[0]);\r\n    }\r\n\r\n    const eventId = this.props.match.params.id;\r\n\r\n    apiHandler\r\n      .updateEvent(eventId, fd)\r\n\r\n      .then((apiResponse) => {\r\n        console.log(apiResponse);\r\n        this.props.history.push(\"/created/coming-events\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <NavTop />\r\n        <div className=\"body\">\r\n          <form\r\n            className=\"formcreate\"\r\n            style={{ display: \"flex\", flexDirection: \"column\" }}\r\n            onSubmit={this.handleSubmit}\r\n            encType=\"multipart/form-data\"\r\n          >\r\n            <h3>Update your event</h3>\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"sport\">\r\n                Sport\r\n              </label>\r\n              <input\r\n                className=\"input\"\r\n                type=\"text\"\r\n                onChange={this.handleChange}\r\n                value={this.state.sport}\r\n                name=\"sport\"\r\n                id=\"sport\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"Country\">\r\n                Country\r\n              </label>\r\n              <input\r\n                className=\"input\"\r\n                type=\"text\"\r\n                onChange={this.handleChange}\r\n                value={this.state.country}\r\n                name=\"country\"\r\n                id=\"country\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"city\">\r\n                City\r\n              </label>\r\n              <input\r\n                className=\"input\"\r\n                type=\"text\"\r\n                onChange={this.handleChange}\r\n                value={this.state.city}\r\n                name=\"city\"\r\n                id=\"city\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"meetingPoint\">\r\n                Meeting Point\r\n              </label>\r\n              <input\r\n                className=\"input\"\r\n                type=\"text\"\r\n                onChange={this.handleChange}\r\n                value={this.state.meetingPoint}\r\n                name=\"meetingPoint\"\r\n                id=\"meetingPoint\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"date\">\r\n                When\r\n              </label>\r\n              <input\r\n                className=\"input\"\r\n                type=\"date\"\r\n                onChange={this.handleChange}\r\n                value={this.state.date}\r\n                placeholder=\"When ?\"\r\n                name=\"date\"\r\n                id=\"date\"\r\n                min={today}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"time\">\r\n                Time\r\n              </label>\r\n              <input\r\n                className=\"input\"\r\n                type=\"time\"\r\n                step=\"1800\"\r\n                onChange={this.handleChange}\r\n                value={this.state.time}\r\n                name=\"time\"\r\n                id=\"time\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"level\">\r\n                Choose your level:\r\n                <select\r\n                  value={this.state.value}\r\n                  onChange={this.handleChange}\r\n                  name=\"level\"\r\n                  id=\"level\"\r\n                >\r\n                  <option value=\"Beginner\">Beginner</option>\r\n                  <option value=\"Intermediate\">Intermediate</option>\r\n                  <option value=\"Advanced\">Advanced</option>\r\n                </select>\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\" htmlFor=\"description\">\r\n                Describe your event:\r\n                <textarea\r\n                  maxLength=\"100\"\r\n                  rows=\"3\"\r\n                  value={this.state.description}\r\n                  onChange={this.handleChange}\r\n                  name=\"description\"\r\n                  id=\"description\"\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"field upload\">\r\n              <label className=\"label\" htmlFor=\"eventImg\">\r\n                Add an image for your event <span>----</span>\r\n                <i className=\"icon fas fa-cloud-upload-alt\"></i>\r\n              </label>\r\n              <input\r\n                style={{ display: \"none\" }}\r\n                type=\"file\"\r\n                id=\"eventImg\"\r\n                name=\"eventImg\"\r\n                ref={this.imageRef}\r\n              ></input>\r\n            </div>\r\n\r\n            <div className=\"field full\">\r\n              <label className=\"label full\">\r\n                Event full ?\r\n                <input\r\n                  className=\"input full\"\r\n                  name=\"isComplete\"\r\n                  type=\"checkbox\"\r\n                  checked={this.state.isComplete}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <button>Update</button>\r\n          </form>\r\n        </div>\r\n        <NavBottom path={this.props.history.location.pathname} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport NavTop from \"../NavTop\";\r\nimport NavBottom from \"../NavBottom\";\r\n\r\nimport UserContext from \"../Auth/UserContext\";\r\nimport dayjs from \"dayjs\";\r\nimport \"../../styles/Card.css\";\r\nconst today = dayjs();\r\n\r\nexport default class Events extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    allEvents: [],\r\n  };\r\n\r\n  handleToggle = (eventId, currentCompletedValue) => {\r\n    console.log(eventId);\r\n    apiHandler\r\n      .updateEvent(eventId, { isComplete: !currentCompletedValue })\r\n      .then((apiResponse) => {\r\n        console.log(\"api\", apiResponse);\r\n        const allEvents = this.state.allEvents.map((event) =>\r\n          event._id === apiResponse._id ? apiResponse : event\r\n        );\r\n        this.setState({ allEvents });\r\n        console.log(\"in toggle\", allEvents);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  handleDelete = (eventId) => {\r\n    apiHandler\r\n      .deleteEvent(eventId)\r\n      .then((apiResponse) => {\r\n        this.setState({\r\n          allEvents: this.state.allEvents.filter(\r\n            (event) => event._id !== eventId\r\n          ),\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler.getMyEvents().then((data) => {\r\n      data = data.map((event) => {\r\n        const date1 = dayjs(event.date, \"YYYY-MM-DD\");\r\n        if (date1.isValid()) event.delay = date1.diff(today, \"d\");\r\n        return event;\r\n      });\r\n      this.setState({ allEvents: data });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    console.log(\"render\", this.state.allEvents);\r\n    return (\r\n      <div>\r\n        <NavTop />\r\n        <div className=\"invisibleBig\">\r\n          <div className=\"btn profile\">\r\n            <NavLink exact to=\"/created/coming-events\">\r\n              {\" \"}\r\n              <button\r\n                style={{\r\n                  backgroundColor:\r\n                    this.props.history.location.pathname ===\r\n                    \"/created/coming-events\"\r\n                      ? \"#ffa41b\"\r\n                      : \"#white\",\r\n                }}\r\n                className=\"link profile\"\r\n              >\r\n                Coming events\r\n              </button>{\" \"}\r\n            </NavLink>\r\n            <NavLink exact to=\"/created/past-events\">\r\n              {\" \"}\r\n              <button\r\n                style={{\r\n                  backgroundColor:\r\n                    this.props.history.location.pathname ===\r\n                    \"/created/past-events\"\r\n                      ? \"#ffa41b\"\r\n                      : \"#white\",\r\n                }}\r\n                className=\"link profile\"\r\n              >\r\n                Past events\r\n              </button>{\" \"}\r\n            </NavLink>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"middle\">\r\n          {this.props.history.location.pathname === \"/created/coming-events\" &&\r\n            this.state.allEvents\r\n              .filter((event) => event.delay >= 0)\r\n              .sort((a, b) => a.delay - b.delay)\r\n              .map((event) => {\r\n                return (\r\n                  <div className=\"card multiple create\" key={event._id}>\r\n                    <div className=\"cardEvent create\">\r\n                      <Link to={`/events/${event._id}`}>\r\n                        <div className=\"eventTop\">\r\n                          <div className=\"eventImg create\">\r\n                            <img\r\n                              className=\"event image\"\r\n                              src={event.eventImg}\r\n                              alt={event.sport}\r\n                            />\r\n                          </div>\r\n                          <div className=\"eventInfo create\">\r\n                            <p>\r\n                              <strong>\r\n                                {event.sport} - {event.city}{\" \"}\r\n                              </strong>\r\n                            </p>\r\n                            <br />\r\n                            <p>\r\n                              {event.date} @ {event.time} D-{event.delay}\r\n                            </p>\r\n                            <p>Level: {event.level}</p>\r\n                            <p>Author: {event.owner.username}</p>\r\n                          </div>\r\n                        </div>\r\n                      </Link>\r\n                      <p>{event.description}</p>\r\n                      <div className=\"eventManage\">\r\n                        <div className=\"manage event\">\r\n                          <NavLink\r\n                            exact\r\n                            to={`/update/${event._id}`}\r\n                            className=\"link\"\r\n                          >\r\n                            <i className=\"fas fa-edit\"></i>\r\n                          </NavLink>\r\n                          {/* <i className=\"fas fa-edit\"><NavLink exact to={`/update/${event._id}`} className=\"link\"/></i>   */}\r\n                          <i\r\n                            className=\"fas fa-trash\"\r\n                            onClick={() => this.handleDelete(event._id)}\r\n                          ></i>\r\n                          {/* {event.isComplete && <i className=\"fas fa-toggle-on\" name=\"isComplete\" value={event.isComplete} ></i>}\r\n                            {!event.isComplete && <i className=\"fas fa-toggle-off\"></i>} */}\r\n                          {event.isComplete ? (\r\n                            <i\r\n                              className=\"fas fa-toggle-on\"\r\n                              name=\"isComplete\"\r\n                              value={event.isComplete}\r\n                              onClick={() =>\r\n                                this.handleToggle(event._id, event.isComplete)\r\n                              }\r\n                            ></i>\r\n                          ) : (\r\n                            <i\r\n                              className=\"fas fa-toggle-off\"\r\n                              name=\"isComplete\"\r\n                              value={event.isComplete}\r\n                              onClick={() =>\r\n                                this.handleToggle(event._id, event.isComplete)\r\n                              }\r\n                            ></i>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n          {this.props.history.location.pathname === \"/created/past-events\" &&\r\n            this.state.allEvents\r\n              .filter((event) => event.delay < 0)\r\n              .sort((a, b) => a.delay - b.delay)\r\n              .map((event) => {\r\n                return (\r\n                  <div className=\"card multiple create\" key={event._id}>\r\n                    <div className=\"cardEvent create\">\r\n                      <Link to={`/events/${event._id}`}>\r\n                        <div className=\"eventTop\">\r\n                          <div className=\"eventImg create\">\r\n                            <img\r\n                              className=\"event image\"\r\n                              src={event.eventImg}\r\n                              alt={event.sport}\r\n                            />\r\n                          </div>\r\n                          <div className=\"eventInfo create\">\r\n                            <p>\r\n                              <strong>\r\n                                {event.sport} - {event.city}{\" \"}\r\n                              </strong>\r\n                            </p>\r\n                            <br />\r\n                            <p>\r\n                              {event.date} @ {event.time} D-{event.delay}\r\n                            </p>\r\n                            <p>Level: {event.level}</p>\r\n                          </div>\r\n                        </div>\r\n                      </Link>\r\n                      <p>{event.description}</p>\r\n                      <div className=\"eventManage\">\r\n                        <div className=\"manage event\">\r\n                          <NavLink\r\n                            exact\r\n                            to={`/update/${event._id}`}\r\n                            className=\"link\"\r\n                          >\r\n                            <i className=\"fas fa-edit\"></i>\r\n                          </NavLink>\r\n                          {/* <i className=\"fas fa-edit\"><NavLink exact to={`/update/${event._id}`} className=\"link\"/></i>   */}\r\n                          <i\r\n                            className=\"fas fa-trash\"\r\n                            onClick={() => this.handleDelete(event._id)}\r\n                          ></i>\r\n                          {event.isComplete && (\r\n                            <i\r\n                              className=\"fas fa-toggle-on\"\r\n                              name=\"isComplete\"\r\n                              value={event.isComplete}\r\n                              onClick={() =>\r\n                                this.handleToggle(event._id, event.isComplete)\r\n                              }\r\n                            ></i>\r\n                          )}\r\n                          {!event.isComplete && (\r\n                            <i\r\n                              className=\"fas fa-toggle-off\"\r\n                              name=\"isComplete\"\r\n                              value={event.isComplete}\r\n                              onClick={() =>\r\n                                this.handleToggle(event._id, event.isComplete)\r\n                              }\r\n                            ></i>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n        </div>\r\n        <div className=\"invisible\">Oups you found me</div>\r\n        <NavBottom path={this.props.history.location.pathname} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"../styles/global.css\";\r\n\r\nexport default function PopUp({ handlePopUp }) {\r\n  return (\r\n    <div className=\"popup\" onClick={handlePopUp}>\r\n      <p>\r\n        Awesome feature for sure !<br></br> It's coming soon !\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport NavTop from \"../NavTop\";\r\nimport NavBottom from \"../NavBottom\";\r\nimport PopUp from \"../../components/PopUp.jsx\";\r\nimport { withUser } from \"../Auth/withUser\";\r\n\r\nimport \"../../styles/NavBar.css\";\r\n\r\nclass Extras extends Component {\r\n  state = {\r\n    display: false,\r\n  };\r\n\r\n  handlePopUp = () => {\r\n    this.setState({ display: !this.state.display });\r\n  };\r\n\r\n  handleLogout = () => {\r\n    apiHandler\r\n      .logout()\r\n      .then(() => {\r\n        this.props.context.removeUser();\r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <NavTop />{\" \"}\r\n        <div className=\"Extras\">\r\n          {!this.state.display && (\r\n            <React.Fragment>\r\n              <button onClick={this.handlePopUp}>Stat</button>\r\n              <button onClick={this.handlePopUp}>Chrono</button>\r\n              <button onClick={this.handlePopUp}>Update profile</button>\r\n              <button onClick={this.handleLogout}>Logout</button>\r\n            </React.Fragment>\r\n          )}\r\n          {this.state.display && <PopUp handlePopUp={this.handlePopUp} />}\r\n        </div>\r\n        <NavBottom path={this.props.history.location.pathname} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(Extras);\r\n\r\n// class Extras extends Component {\r\n//     constructor(props) {\r\n//         super(props);\r\n//         this.state = {\r\n//           display : \"hidden\"\r\n//         };\r\n//         const { context } = props;\r\n//         this.handleLogout = this.handleLogout.bind(this);\r\n//       }\r\n\r\n//   handleLogout = () => {\r\n//     apiHandler\r\n//       .logout()\r\n//       .then(() => {\r\n//         this.context.removeUser();\r\n//         this.props.history.push(\"/\")\r\n//       })\r\n//       .catch((error) => {\r\n//         console.log(error);\r\n//       });\r\n//   }\r\n\r\n//   render () {\r\n//   return (\r\n//     <nav >\r\n//         <NavTop/>\r\n//         <div className=\"Extras\">\r\n//             <button >Stat</button>\r\n//             <button >Chrono</button>\r\n//             <button >Update profile</button>\r\n//             <button onClick={this.handleLogout}>Logout</button>\r\n//         </div>\r\n//         <NavBottom/>\r\n//     </nav>\r\n//   )\r\n// }\r\n// }\r\n\r\n// export default withUser(Extras);\r\n\r\n// const Extras = (props) => {\r\n//   const { context } = props;\r\n\r\n//   function handleLogout() {\r\n//     apiHandler\r\n//       .logout()\r\n//       .then(() => {\r\n//         context.removeUser();\r\n//         props.history.push(\"/\");\r\n//       })\r\n//       .catch((error) => {\r\n//         console.log(error);\r\n//       });\r\n//   }\r\n\r\n//   // function handlePopUp() {\r\n//   //   if (this.state.display )\r\n//   // }\r\n\r\n//   return (\r\n//     <nav>\r\n//       <NavTop />\r\n//       <div className=\"Extras\">\r\n//         <button /*onClick={handlePopUp} style={{display: this.state.display}}*/>\r\n//           Stat\r\n//         </button>\r\n//         <button /*onClick={handlePopUp} style={{display: this.state.display}}*/>\r\n//           Chrono\r\n//         </button>\r\n//         <button /*onClick={handlePopUp} style={{display: this.state.display}}*/>\r\n//           Update profile\r\n//         </button>\r\n//         <button\r\n//           onClick={handleLogout} /*style={{display: this.state.display}}*/\r\n//         >\r\n//           Logout\r\n//         </button>\r\n//         <PopUp display=\"none\" />\r\n//       </div>\r\n//       <NavBottom path={props.history.location.pathname} />\r\n//     </nav>\r\n//   );\r\n// };\r\n\r\n// export default withUser(Extras);\r\n","import React, { Component } from \"react\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport NavTop from \"../NavTop\";\r\nimport NavBottom from \"../NavBottom\";\r\n\r\nimport \"../../styles/Conversation.css\";\r\n\r\nexport default class Messages extends Component {\r\n  state = {\r\n    messages: null,\r\n    message: \"\",\r\n    event: null,\r\n  };\r\n\r\n  formRef = React.createRef();\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n    console.log(this.state);\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const eventId = this.props.match.params.id;\r\n    console.log(\"Add message Id\", eventId);\r\n\r\n    apiHandler\r\n      .addMessage(eventId, { message: this.state.message })\r\n      .then((data) => {\r\n        this.formRef.current.reset();\r\n        this.getMessages();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler.getOneEvent(this.props.match.params.id).then((data) => {\r\n      this.setState({ event: data });\r\n    });\r\n    this.getMessages();\r\n  }\r\n\r\n  getMessages() {\r\n    const eventId = this.props.match.params.id;\r\n    apiHandler.getMessages(eventId).then((data) => {\r\n      this.setState({ messages: data });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.event) return <div>Loading...</div>;\r\n\r\n    return (\r\n      <div>\r\n        <NavBottom />\r\n        <div className=\"body\">\r\n          <div className=\"chat\">\r\n            <strong>\r\n              {this.state.event.sport} - {this.state.event.city} -\r\n              {this.state.event.date}\r\n            </strong>\r\n            {this.state.messages && this.state.messages.length === 0 && (\r\n              <div>Start the conversation</div>\r\n            )}\r\n            {this.state.messages && this.state.messages.length > 0 && (\r\n              <div style={{ overflow: \"scroll\", height: \"60vh\" }}>\r\n                {this.state.messages.map((message) => {\r\n                  return (\r\n                    <div key={message._id}>\r\n                      <div className=\"message\">\r\n                        <br />\r\n                        <div className=\"author message\">\r\n                          <img\r\n                            id=\"profileImg\"\r\n                            src={message.author.profileImg}\r\n                            alt={message.author.username}\r\n                          />\r\n                          <strong>{message.author.username}</strong>, on{\" \"}\r\n                          {String(message.createdAt).slice(0, 10)} :\r\n                        </div>\r\n                        <div>{message.message}</div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"messages\">\r\n            <form\r\n              ref={this.formRef}\r\n              id=\"form-message\"\r\n              onSubmit={this.handleSubmit}\r\n            >\r\n              <input\r\n                maxLength=\"100\"\r\n                value={this.state.message}\r\n                onChange={this.handleChange}\r\n                name=\"message\"\r\n                placeholder=\"Your message...\"\r\n              />\r\n              <button>\r\n                <i className=\"fas fa-paper-plane\"></i>\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <NavTop />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport NavTop from \"../NavTop\";\r\nimport NavBottom from \"../NavBottom\";\r\nimport dayjs from \"dayjs\";\r\nimport \"../../styles/Conversation.css\";\r\nconst today = dayjs().format(\"YYYY-MM-DD\");\r\n\r\n// import \"../../styles/Card.css\";\r\n\r\nexport default class Conversation extends Component {\r\n  state = {\r\n    myMessages: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler.getMyMessages().then((data) => {\r\n      this.setState({ myMessages: data });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.myMessages) return <div>Loading...</div>;\r\n    console.log(\"my messages\", this.state.myMessages);\r\n    const myEvents = [\r\n      ...new Set(this.state.myMessages.map((message) => message.event._id)),\r\n    ];\r\n    const events = myEvents.map((event) => {\r\n      const messages = this.state.myMessages.filter(\r\n        (message) => message.event._id === event\r\n      );\r\n      const currentEvent = messages[0].event;\r\n      return { event: currentEvent, messages };\r\n    });\r\n\r\n    console.log(\"EVENTS FORMATED\", events);\r\n\r\n    const eventToDisplay = [\r\n      { event: {}, messages: [{}] },\r\n      { event: {}, messages: [{}] },\r\n      { event: {}, messages: [{}] },\r\n    ];\r\n\r\n    console.log(myEvents);\r\n    console.log(today);\r\n    return (\r\n      <div>\r\n        <NavTop />\r\n        <div className=\"body\">\r\n          {/* {events.map((event) => (\r\n            <div key={event.event._id}>\r\n              <h1>{event.event.sport}</h1>\r\n              <ul>\r\n                {event.messages.map((message) => (\r\n                  <li key={message._id}>{message.message}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          ))} */}\r\n          {events.map((event) => (\r\n            <div className=\"all conv\" key={event.event._id}>\r\n              {event.messages.map((message) => (\r\n                <NavLink\r\n                  exact\r\n                  to={`/messages/by-event/${message.event._id}`}\r\n                  className=\"event conv\"\r\n                  key={message._id}\r\n                >\r\n                  <img\r\n                    id=\"profileImg\"\r\n                    src={message.author.profileImg}\r\n                    alt={message.author.username}\r\n                  />\r\n                  <div className=\"conv message\">\r\n                    <strong>{message.author.username}</strong>\r\n                    <p>{message.message}</p>\r\n                    <p>\r\n                      {message.event.sport} - {message.event.date.slice(2)}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"conv date\">\r\n                    <p>{message.createdAt.slice(2, 10)}</p>\r\n                  </div>\r\n                </NavLink>\r\n              ))}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <NavBottom path={this.props.history.location.pathname} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport NavMain from \"./components/NavMain\";\r\nimport Home from \"./pages/Home\";\r\nimport Signin from \"./pages/Signin\";\r\nimport Signup from \"./pages/Signup\";\r\nimport ProtectedRoute from \"./components/ProtectedRoute\";\r\nimport Profile from \"./pages/Profile\";\r\nimport Events from \"./components/Views/Events\";\r\nimport OneEvent from \"./components/Views/OneEvent\";\r\nimport FormCreateEvent from \"./components/Forms/FormCreateEvent\";\r\nimport FormUpdateEvent from \"./components/Forms/FormUpdateEvent\";\r\nimport MyEvents from \"./components/Views/MyEvents\";\r\nimport Extras from \"./components/Views/Extras\";\r\nimport Messages from \"./components/Views/Messages\";\r\nimport Conversation from \"./components/Views/Conversation\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      {/* <NavMain /> */}\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route exact path=\"/signin\" component={Signin} />\r\n        <Route exact path=\"/signup\" component={Signup} />\r\n        <Route exact path=\"/events\" component={Events} />\r\n        <Route exact path=\"/events/create\" component={FormCreateEvent} />\r\n        <Route exact path=\"/events/:id\" component={OneEvent} />\r\n        <Route exact path=\"/messages/by-event/:id\" component={Messages} />\r\n        <Route exact path=\"/messages/my-messages\" component={Conversation} />\r\n        {/* <Route exact path=\"/created\" component={Profile} /> */}\r\n        <Route exact path=\"/created/coming-events\" component={MyEvents} />\r\n        <Route exact path=\"/created/past-events\" component={MyEvents} />\r\n        <Route exact path=\"/update/:id\" component={FormUpdateEvent} />\r\n        <Route exact path=\"/more\" component={Extras} />\r\n\r\n        <ProtectedRoute exact path=\"/profile\" component={Profile} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport UserProvider from \"./components/Auth/UserProvider\";\r\nimport App from \"./App\";\r\n\r\nimport \"./styles/reset.css\";\r\nimport \"./styles/global.css\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <UserProvider>\r\n      <App />\r\n    </UserProvider>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}